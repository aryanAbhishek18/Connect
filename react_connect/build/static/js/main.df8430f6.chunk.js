(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},,,,,function(e,a,t){},,function(e,a,t){},,,function(e,a,t){e.exports=t(50)},,,,,function(e,a,t){},function(e,a,t){},,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(25),i=t.n(s),l=(t(32),t(3)),c=t(4),o=t(6),m=t(5),d=t(7),u=t(1),h=t(17),p=t.n(h),g=(t(33),t(2)),b=t.n(g),f=t(8),v=(t(36),t(15)),E=t(9);t(37);var y,k=function(e){return r.a.createElement("div",{className:"container home-div"},r.a.createElement("h2",{className:"home-greeting-msg"},"Hey ",e.name,"! What's up?"),r.a.createElement("h4",null,"Welcome to Connect!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Connect is a prototype of a social networking web application."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"It supports following features: "),r.a.createElement("br",null),r.a.createElement("p",null,"* Sign Up"),r.a.createElement("p",null,"*  Sign In"),r.a.createElement("p",null,"* Own profile viewing and editing"),r.a.createElement("p",null,"* Adding friends"),r.a.createElement("p",null,"* Viewing friends profile"),r.a.createElement("p",null,"* Messaging to friends"))};t(38),t(22);y="https://connect.aryanabhi.in";var O,N=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={newPass:"",confNewPass:"",errorMsg:""},t.passChangeHandler=t.passChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.newPasswordChangeHandler=t.newPasswordChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.confNewPasswordChangeHandler=t.confNewPasswordChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"newPasswordChangeHandler",value:function(e){this.setState({newPass:e.target.value})}},{key:"confNewPasswordChangeHandler",value:function(e){this.setState({confNewPass:e.target.value})}},{key:"passChangeHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(a){var t,n,r,s,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.newPass.trim(),n=this.state.confNewPass.trim(),t){e.next=7;break}this.setState({errorMsg:"New pass empty!"}),e.next=33;break;case 7:if(n){e.next=11;break}this.setState({errorMsg:"Conf new pass empty!"}),e.next=33;break;case 11:if(t===n){e.next=15;break}this.setState({errorMsg:"New pass and conf pass do not match!"}),e.next=33;break;case 15:return this.setState({errorMsg:""}),e.prev=16,r=y+"/api/profile/changePassword",e.next=20,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:this.state.newPass,token:sessionStorage.getItem("assistToken")})});case 20:return s=e.sent,e.next=23,s.json();case 23:if(200===(i=e.sent).status){e.next=26;break}return e.abrupt("return",alert(i.message));case 26:alert("Password changed successfully!!"),this.setState({newPass:"",confNewPass:""}),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(16),alert(e.t0.message);case 33:case"end":return e.stop()}},e,this,[[16,30]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container change-pass-div"},r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"New password:"),r.a.createElement("input",{type:"password",className:"form-control",value:this.state.newPass,onChange:this.newPasswordChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Confirm new password:"),r.a.createElement("input",{type:"password",className:"form-control",value:this.state.confNewPass,onChange:this.confNewPasswordChangeHandler,required:"required"})),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.passChangeHandler},"Submit"))))}}]),a}(r.a.Component);O="https://connect.aryanabhi.in";var j=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:"",dob:"",address:"",phone:"",hobby:""},t.dobChangeHandler=t.dobChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.addressChangeHandler=t.addressChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.phoneChangeHandler=t.phoneChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.hobbyChangeHandler=t.hobbyChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.updateProfileHandler=t.updateProfileHandler.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"dobChangeHandler",value:function(e){this.setState({dob:e.target.value})}},{key:"addressChangeHandler",value:function(e){this.setState({address:e.target.value})}},{key:"phoneChangeHandler",value:function(e){this.setState({phone:e.target.value})}},{key:"hobbyChangeHandler",value:function(e){this.setState({hobby:e.target.value})}},{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n,r,s,i,l,c,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=6;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again!"));case 6:return a=O+"/api/profile/getProfile",e.next=9,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 9:return t=e.sent,e.next=12,t.json();case 12:200!==(n=e.sent).status?(alert(n.message),alert("There was some error! Please sign out and sign in again.")):(r=n.user.name,s=n.user.email,i=n.user.dob,l=n.user.address,c=n.user.phone,o=n.user.hobby,this.setState({name:r,email:s,dob:i,address:l,phone:c,hobby:o}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),alert("There was some error! Please sign out and sign in again.");case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateProfileHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(a){var t,n,r,s,i,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.dob.trim(),n=this.state.address.trim(),r=this.state.phone.trim(),t){e.next=8;break}alert("DOB empty!"),e.next=32;break;case 8:if(n){e.next=12;break}alert("Address empty!"),e.next=32;break;case 12:if(r){e.next=16;break}alert("Phone empty!"),e.next=32;break;case 16:return e.prev=16,s=O+"/api/profile/updateProfile",e.next=20,fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dob:t,address:n,phone:r,hobby:this.state.hobby,token:sessionStorage.getItem("assistToken")})});case 20:return i=e.sent,e.next=23,i.json();case 23:if(200===(l=e.sent).status){e.next=26;break}return e.abrupt("return",alert(l.message));case 26:alert("Profile updated successfully!!"),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(16),alert(e.t0.message);case 32:case"end":return e.stop()}},e,this,[[16,29]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container change-pass-div"},r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.name,disabled:!0,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.email,disabled:!0,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Date of birth:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.dob,onChange:this.dobChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Address:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.address,onChange:this.addressChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Phone Number:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.phone,onChange:this.phoneChangeHandler,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Hobby:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.hobby,onChange:this.hobbyChangeHandler,required:"required"})),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.updateProfileHandler},"Update"))))}}]),a}(r.a.Component);var S,C=function(e){return r.a.createElement("div",{className:"container profile-main-div"},r.a.createElement("h3",{className:"profile-greeting-msg"},"You can view and edit your profile details here."),r.a.createElement("div",{className:"container profile-edit-div"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(j,null)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(N,null)))))};t(39);S="https://connect.aryanabhi.in";var w,H=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={nameInput:"",usersMatched:[]},t.nameInputChangeHandler=t.nameInputChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.searchFriendHandler=t.searchFriendHandler.bind(Object(u.a)(Object(u.a)(t))),t.addFriendHandler=t.addFriendHandler.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"addFriendHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(a,t){var n,r,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=S+"/api/friends/addFriend",e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:t,token:sessionStorage.getItem("assistToken")})});case 4:return r=e.sent,e.next=7,r.json();case 7:if(200===(s=e.sent).status){e.next=10;break}return e.abrupt("return",alert(s.message));case 10:alert(s.message),this.setState({nameInput:"",usersMatched:[]}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(a,t){return e.apply(this,arguments)}}()},{key:"nameInputChangeHandler",value:function(e){this.setState({nameInput:e.target.value})}},{key:"searchFriendHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n,r,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.state.nameInput.trim().toLowerCase())||alert("Name empty!"),e.prev=2,t=S+"/api/friends/searchFriends",e.next=6,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,token:sessionStorage.getItem("assistToken")})});case 6:return n=e.sent,e.next=9,n.json();case 9:if(200===(r=e.sent).status){e.next=12;break}return e.abrupt("return",alert(r.message));case 12:s=r.usersMatched,this.setState({usersMatched:s}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[2,16]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state.usersMatched.map(function(a){if(a.email!==e.props.email)return r.a.createElement("div",{key:a._id,className:"user-matched-div"},r.a.createElement("p",null,r.a.createElement("strong",null,"Name: "),a.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: "),a.email),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.addFriendHandler(a.name,a.email)}},"Add Friend"),r.a.createElement("hr",null))});return r.a.createElement("div",{className:"add-friends-div"},r.a.createElement("div",{className:"add-friends-search"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Search to add new friend:"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.nameInput,onChange:this.nameInputChangeHandler})),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.searchFriendHandler},"Search"))),r.a.createElement("div",{className:"add-friends-matches"},a))}}]),a}(r.a.Component),x=(t(40),function(e){function a(e){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props.friends.map(function(e,a){return r.a.createElement("div",{key:a,className:"friend-div"},r.a.createElement("strong",null,a+1,". "),r.a.createElement("strong",null,e.name)," ",r.a.createElement("i",null,e.email))});return r.a.createElement("div",{className:"friends-list-div"},r.a.createElement("div",{className:"friends-list"},e))}}]),a}(r.a.Component));t(41);w="https://connect.aryanabhi.in";var P,T=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={name:"",friends:[],friendSelectedOption:"Select a friend to see the details: ",selectedFriendName:"",selectedFriendEmail:"",selectedFriendDOB:"",selectedFriendAddress:"",selectedFriendPhone:"",selectedFriendHobby:""},t.friendSelectChangeHandler=t.friendSelectChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.friendSelectDetailHandler=t.friendSelectDetailHandler.bind(Object(u.a)(Object(u.a)(t))),t.friendSelectDetailClear=t.friendSelectDetailClear.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"friendSelectDetailHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token Missing! Kindly sign out and sign in again!"));case 4:if("Select a friend to see the details: "!==(a=this.state.friendSelectedOption)){e.next=7;break}return e.abrupt("return",alert("Select valid option!"));case 7:return t=w+"/api/friends/getFriendDetails",e.next=10,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,token:sessionStorage.getItem("assistToken")})});case 10:return n=e.sent,e.next=13,n.json();case 13:if(200===(r=e.sent).status){e.next=18;break}return e.abrupt("return",alert(r.message));case 18:r.friend,this.setState({selectedFriendName:r.friend.name,selectedFriendEmail:r.friend.email,selectedFriendDOB:r.friend.dob,selectedFriendAddress:r.friend.address,selectedFriendPhone:r.friend.phone,selectedFriendHobby:r.friend.hobby});case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",alert("There was some error!! Please sign out and sign in again"));case 26:case"end":return e.stop()}},e,this,[[0,22]])}));return function(){return e.apply(this,arguments)}}()},{key:"friendSelectChangeHandler",value:function(e){this.setState({friendSelectedOption:e.target.value})}},{key:"friendSelectDetailClear",value:function(){this.setState({selectedFriendName:"",selectedFriendEmail:"",selectedFriendDOB:"",selectedFriendAddress:"",selectedFriendPhone:"",selectedFriendHobby:""})}},{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token Missing! Kindly sign out and sign in again!"));case 4:return a=w+"/api/friends/getFriends",e.next=7,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 7:return t=e.sent,e.next=10,t.json();case 10:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({friends:n.friends});case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",alert("There was some error!! Please sign out and sign in again"));case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[r.a.createElement("option",{key:0},"Select a friend to see the details: ")];return this.state.friends.forEach(function(a,t){e.push(r.a.createElement("option",{key:a._id,value:a.email},a.name))}),r.a.createElement("div",{className:"friends-manager-div"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(H,{email:this.props.email})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"friend-list-title"},"Here is your friends list:"),r.a.createElement(x,{friends:this.state.friends}))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",{className:"select-friends-div"},r.a.createElement("select",{value:this.state.friendSelected,onChange:this.friendSelectChangeHandler},e),r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-success",onClick:this.friendSelectDetailHandler},"Search")),r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-warning",onClick:this.friendSelectDetailClear},"Clear")))),r.a.createElement("div",{className:"selected-friends-details"},r.a.createElement("div",null,r.a.createElement("strong",null,"Name: "),this.state.selectedFriendName),r.a.createElement("div",null,r.a.createElement("strong",null,"Email: "),this.state.selectedFriendEmail),r.a.createElement("div",null,r.a.createElement("strong",null,"Date Of Birth: "),this.state.selectedFriendDOB),r.a.createElement("div",null,r.a.createElement("strong",null,"Address: "),this.state.selectedFriendAddress),r.a.createElement("div",null,r.a.createElement("strong",null,"Phone: "),this.state.selectedFriendPhone),r.a.createElement("div",null,r.a.createElement("strong",null,"Hobby: "),this.state.selectedFriendHobby))))}}]),a}(r.a.Component);t(42),t(43);P="https://connect.aryanabhi.in";var I,M=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={friendSelectedOption:"Select a friend to send message to: ",message:""},t.friendSelectChangeHandler=t.friendSelectChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.messageChangeHandler=t.messageChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.messageClearHandler=t.messageChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.sendMessageHandler=t.sendMessageHandler.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"friendSelectChangeHandler",value:function(e){this.setState({friendSelectedOption:e.target.value})}},{key:"messageChangeHandler",value:function(e){this.setState({message:e.target.value})}},{key:"messageClearHandler",value:function(e){this.setState({message:""})}},{key:"sendMessageHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n,r,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token Missing! Kindly sign out and sign in again!"));case 4:if("Select a friend to send message to: "!==(a=this.state.friendSelectedOption)){e.next=7;break}return e.abrupt("return",alert("Select a valid friend!"));case 7:if(t=this.state.message.trim()){e.next=10;break}return e.abrupt("return",alert("Cant send empty message!"));case 10:return n=P+"/api/messaging/sendMessage",e.next=13,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,message:t,token:sessionStorage.getItem("assistToken")})});case 13:return r=e.sent,e.next=16,r.json();case 16:if(200===(s=e.sent).status){e.next=21;break}return e.abrupt("return",alert(s.message));case 21:alert(s.message),this.setState({friendSelectedOption:"Select a friend to send message to: ",message:""});case 23:e.next=29;break;case 25:return e.prev=25,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",alert("There was some error!! Please sign out and sign in again"));case 29:case"end":return e.stop()}},e,this,[[0,25]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[r.a.createElement("option",{key:0},"Select a friend to send message to: ")];return this.props.friends.forEach(function(a){e.push(r.a.createElement("option",{key:a._id,value:a.email},a.name))}),r.a.createElement("div",{className:"friends-select-div"},r.a.createElement("select",{value:this.state.friendSelectedOption,onChange:this.friendSelectChangeHandler},e),r.a.createElement("textarea",{value:this.state.message,onChange:this.messageChangeHandler}),r.a.createElement("div",{className:"send-message-buttons"},r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-warning",onClick:this.messageClearHandler},"Clear")),r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-success",onClick:this.sendMessageHandler},"Send"))))}}]),a}(r.a.Component);t(44);I="https://connect.aryanabhi.in";var F,D=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={messages:[]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token Missing! Kindly sign out and sign in again!"));case 4:return a=I+"/api/messaging/getReceivedMessages",e.next=7,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 7:return t=e.sent,e.next=10,t.json();case 10:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({messages:n.messages});case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",alert("There was some error!! Please sign out and sign in again"));case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.messages.map(function(e){return r.a.createElement("div",{key:e._id,className:"indiv-msg"},r.a.createElement("p",null,r.a.createElement("strong",null,"By: "),e.name," ",r.a.createElement("em",null,"[",e.email,"]")),r.a.createElement("p",null,r.a.createElement("strong",null,"Received on:")," ",e.date),r.a.createElement("p",null,e.message))});return r.a.createElement("div",{className:"messages-list"},r.a.createElement("h5",null,"Received messages: "),r.a.createElement("br",null),e)}}]),a}(r.a.Component);F="https://connect.aryanabhi.in";var U,q=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={friends:[]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token Missing! Kindly sign out and sign in again!"));case 4:return a=F+"/api/friends/getFriends",e.next=7,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 7:return t=e.sent,e.next=10,t.json();case 10:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({friends:n.friends});case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",alert("There was some error!! Please sign out and sign in again"));case 22:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container messaging-div"},r.a.createElement("h3",null,"Hey ",this.props.name,"! Here you can message your friends :)"),r.a.createElement("div",{className:"container messaging-main-div"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(M,{friends:this.state.friends})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(D,null)))))}}]),a}(r.a.Component);U="https://connect.aryanabhi.in";var J,A=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:""},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark(function e(){var a,t,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sessionStorage.getItem("assistToken")){e.next=4;break}return e.abrupt("return",alert("Token missing! Please sign out and sign in again!!"));case 4:return a=U+"/api/profile/getProfile",e.next=7,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:sessionStorage.getItem("assistToken")})});case 7:return t=e.sent,e.next=10,t.json();case 10:if(200===(n=e.sent).status){e.next=15;break}return e.abrupt("return",alert(n.message));case 15:this.setState({name:n.user.name,email:n.user.email});case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",alert("There was some error! Please sign out and sign in again!!"));case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("span",{className:"navbar-brand nav-logo"},r.a.createElement("img",{src:p.a,className:"Portal-logo",alt:"logo"}),r.a.createElement("h2",null,"CONNECT")),r.a.createElement("button",{className:"navbar-toggler portal-navbar-toggle-btn",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerPortal","aria-controls":"navbarTogglerPortal","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerPortal"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{to:"/profile"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{to:"/friends"},"Friends")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{to:"/messaging"},"Messaging"))),r.a.createElement("span",{className:"form-inline my-2 my-lg-0"},r.a.createElement("button",{className:"btn btn-warning",onClick:this.props.signOutHandler},"Sign Out")))),r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/messaging"},r.a.createElement(q,{name:this.state.name,email:this.state.email})),r.a.createElement(E.a,{path:"/friends"},r.a.createElement(T,{name:this.state.name,email:this.state.email})),r.a.createElement(E.a,{path:"/profile"},r.a.createElement(C,{name:this.state.name})),r.a.createElement(E.a,{path:"/"},r.a.createElement(k,{name:this.state.name})))))}}]),a}(r.a.Component);t(24);J="https://connect.aryanabhi.in";var B,L=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={name:"",email:"",pass:"",confPass:"",errorMsg:""},t.signUpHandler=t.signUpHandler.bind(Object(u.a)(Object(u.a)(t))),t.nameChangeHandler=t.nameChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.emailChangeHandler=t.emailChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.passChangeHandler=t.passChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.confPassChangeHandler=t.confPassChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"nameChangeHandler",value:function(e){this.setState({name:e.target.value})}},{key:"emailChangeHandler",value:function(e){this.setState({email:e.target.value})}},{key:"passChangeHandler",value:function(e){this.setState({pass:e.target.value})}},{key:"confPassChangeHandler",value:function(e){this.setState({confPass:e.target.value})}},{key:"signUpHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(a){var t,n,r,s,i,l,c,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.name.trim().toLowerCase(),n=this.state.email.trim(),r=this.state.pass.trim(),s=this.state.confPass.trim(),t||this.setState({errorMsg:"Name empty!"}),n){e.next=10;break}this.setState({errorMsg:"Email empty!"}),e.next=41;break;case 10:if(r){e.next=14;break}this.setState({errorMsg:"Password empty!"}),e.next=41;break;case 14:if(s){e.next=18;break}this.setState({errorMsg:"Conf password empty!"}),e.next=41;break;case 18:if(r===s){e.next=22;break}this.setState({errorMsg:"Pass and conf pass dont match!"}),e.next=41;break;case 22:return this.setState({errorMsg:""}),e.prev=23,i=J+"/api/authenticate/signUp",e.next=27,fetch(i,{method:"POST",body:JSON.stringify({name:t,email:this.state.email,password:this.state.pass}),headers:{"Content-Type":"application/json"}});case 27:return l=e.sent,e.next=30,l.json();case 30:if(200===(c=e.sent).status){e.next=33;break}return e.abrupt("return",alert(c.message));case 33:o=c.token,sessionStorage.setItem("assistToken",o),this.props.doSignUp(),e.next=41;break;case 38:e.prev=38,e.t0=e.catch(23),alert(e.t0);case 41:case"end":return e.stop()}},e,this,[[23,38]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container signInUpDiv"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Name:"),r.a.createElement("input",{type:"text",className:"form-control",onChange:this.nameChangeHandler,id:"signUp-name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Email:"),r.a.createElement("input",{type:"email",className:"form-control",onChange:this.emailChangeHandler,id:"signUp-email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",onChange:this.passChangeHandler,id:"signUp-password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Confirm Password:"),r.a.createElement("input",{type:"password",className:"form-control",onChange:this.confPassChangeHandler,id:"SignUp-confirm-password"})),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg),r.a.createElement("span",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-info",onClick:this.signUpHandler},"Sign Up"))))}}]),a}(r.a.Component);B="https://connect.aryanabhi.in";var K=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={email:"",password:"",errorMsg:""},t.signInHandler=t.signInHandler.bind(Object(u.a)(Object(u.a)(t))),t.emailChangeHandler=t.emailChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t.passwordChangeHandler=t.passwordChangeHandler.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"emailChangeHandler",value:function(e){this.setState({email:e.target.value})}},{key:"passwordChangeHandler",value:function(e){this.setState({password:e.target.value})}},{key:"signInHandler",value:function(){var e=Object(f.a)(b.a.mark(function e(a){var t,n,r,s,i,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=this.state.email.trim(),n=this.state.password.trim(),t){e.next=7;break}this.setState({errorMsg:"Email empty!"}),e.next=30;break;case 7:if(n){e.next=11;break}this.setState({errorMsg:"Password empty!"}),e.next=30;break;case 11:return this.setState({errorMsg:""}),e.prev=12,r=B+"/api/authenticate/signIn",e.next=16,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,password:this.state.password})});case 16:return s=e.sent,e.next=19,s.json();case 19:if(200===(i=e.sent).status){e.next=22;break}return e.abrupt("return",alert(i.message));case 22:l=i.token,sessionStorage.setItem("assistToken",l),this.props.doSignIn(),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(12),alert(e.t0.message);case 30:case"end":return e.stop()}},e,this,[[12,27]])}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container signInUpDiv"},r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Email:"),r.a.createElement("input",{type:"email",className:"form-control",onChange:this.emailChangeHandler,id:"signIn-email",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",onChange:this.passwordChangeHandler,id:"signIn-password",required:"required"})),r.a.createElement("p",{className:"errorMsg"},this.state.errorMsg),r.a.createElement("span",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-info",onClick:this.signInHandler},"Sign In"))))}}]),a}(r.a.Component),R=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={isLoggedIn:!1},t.signOutHandler=t.signOutHandler.bind(Object(u.a)(Object(u.a)(t))),t.doSignIn=t.doSignIn.bind(Object(u.a)(Object(u.a)(t))),t.doSignUp=t.doSignUp.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"signOutHandler",value:function(e){sessionStorage.removeItem("assistToken"),this.setState({isLoggedIn:!1})}},{key:"doSignIn",value:function(e){this.setState({isLoggedIn:!0})}},{key:"doSignUp",value:function(e){this.setState({isLoggedIn:!0})}},{key:"render",value:function(){var e=r.a.createElement(A,{signOutHandler:this.signOutHandler}),a=r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"})),r.a.createElement("div",{className:"container home-desc"},r.a.createElement("h2",null,r.a.createElement("strong",null,"Connect")),r.a.createElement("h4",null,r.a.createElement("em",null,"A social networking web application"))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-1"}),r.a.createElement("div",{className:"col-md-4 signInUpContainer"},r.a.createElement(K,{doSignIn:this.doSignIn})),r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-4 signInUpContainer"},r.a.createElement(L,{doSignUp:this.doSignUp})),r.a.createElement("div",{className:"col-md-1"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Designed as part of our lab assignment of Software Engineering Lab."),r.a.createElement("p",null,"Designed by: ",r.a.createElement("strong",null,"Team Dextro")),r.a.createElement("p",null,"1. Abhishek Aryan BE/10130/17"),r.a.createElement("p",null,"2. Rohit Hembrom BE/10131/17"),r.a.createElement("p",null,"3. Gaurav Singh BE/10137/17")));return r.a.createElement("div",{className:"container-fluid home"},this.state.isLoggedIn?e:a)}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}],[[27,1,2]]]);
//# sourceMappingURL=main.df8430f6.chunk.js.map